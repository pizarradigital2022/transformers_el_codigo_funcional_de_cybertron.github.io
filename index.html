<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Transformers: El C√≥digo Funcional de Cybertron</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">

<script>
window.MathJax = {
  tex: { inlineMath: [['$','$'], ['\\(','\\)']], displayMath: [['$$','$$']] },
  svg: { fontCache: 'global' }
};
</script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

<style>
body{margin:0;font-family:'Orbitron',sans-serif;background:radial-gradient(circle at center,#0a0f1f,#000);color:#00f7ff;}
.screen{display:none;min-height:100vh;padding:40px 20px;text-align:center;animation:fadeIn 1s ease-in-out;}
.active{display:flex;flex-direction:column;justify-content:center;align-items:center;}
h1,h2{text-transform:uppercase;text-shadow:0 0 25px #00f7ff;}
.cyber-box{border:2px solid #00f7ff;padding:25px;border-radius:15px;box-shadow:0 0 30px #00f7ff;background:rgba(0,0,0,0.75);max-width:950px;margin-top:25px;}
.formula{font-size:32px;margin:25px 0;}
.button{margin:15px;padding:15px 40px;background:linear-gradient(45deg,#00f7ff,#0066ff);border:none;border-radius:10px;font-weight:bold;cursor:pointer;box-shadow:0 0 20px #00f7ff;transition:0.3s;}
.button:hover{transform:scale(1.08);box-shadow:0 0 40px #00f7ff;}
img{max-width:400px;margin:15px;}
iframe{width:560px;height:315px;max-width:100%;margin:15px;}
input{padding:12px;font-size:22px;text-align:center;width:180px;letter-spacing:6px;}
.timer{position:fixed;top:15px;right:25px;font-size:22px;text-shadow:0 0 15px red;}
.success{color:#00ff88;text-shadow:0 0 25px #00ff88;}
.failure{color:#ff0044;text-shadow:0 0 25px #ff0044;}
@keyframes fadeIn{from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}}
@media(max-width:768px){iframe{height:220px;}}
</style>
</head>
<body>

<div class="timer" id="timer" style="display:none;"></div>

<!-- INTRO -->
<div id="screen0" class="screen active">
<h1>Transformers: El C√≥digo Funcional de Cybertron</h1>
<img src="./resources/IMAGEN_PORTADA.png" alt="Imagen portada">
<iframe width="560" height="315" src="https://www.youtube.com/embed/IBCLUy7pB5w?si=sk-lJx-FIgNg7xkU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
<iframe width="560" height="315" src="https://www.youtube.com/embed/ePRrWxFDcXI?si=Mxi7adP5nd_51wSP" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
<div class="cyber-box">
<p>Cybertron est√° al borde de la destrucci√≥n. Megatron ha sellado el n√∫cleo energ√©tico mediante un sistema criptogr√°fico basado en representaciones de funciones.</p>
<p>No basta con calcular: cada equipo deber√° <strong>representar correctamente</strong> cada funci√≥n, identificando dominio, cortes, as√≠ntotas y comportamiento global.</p>
<p>Solo una interpretaci√≥n gr√°fica rigurosa permitir√° descifrar el c√≥digo final.</p>
<p><strong>Elegid duraci√≥n de misi√≥n:</strong></p>
<button class="button" onclick="selectMode(90)">Modo √âpico ‚Äì 90 minutos</button>
<button class="button" onclick="selectMode(60)">Modo R√°pido ‚Äì 60 minutos</button>
  
</div>
    <p>Autor: Joaqu√≠n Canda√±edo.<br><a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="./resources/CC_BY_SA.png" alt="Creative Commons Reconocimiento - Compartir Igual"></a></p>
</div>

<!-- RETO 1 -->
<div id="screen1" class="screen">
<h2>Reto 1 ‚Äì Trayectoria de Bumblebee</h2>
<img src="./resources/IMAGEN_RETO1.png" alt="Imagen reto 1">
<iframe width="560" height="315" src="https://www.youtube.com/embed/pLyoBY1zqZA?si=MurxKvnCxhA-sVFZ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
<div class="cyber-box">
<p>Bumblebee atraviesa un campo de meteoritos siguiendo una trayectoria parab√≥lica. Un error en la representaci√≥n puede provocar una colisi√≥n fatal.</p>
<div class="formula">$$f(x)=x^2-4x-5$$</div>
<p>Debes representar correctamente la par√°bola identificando:</p>
<p>‚Ä¢ Cortes con los ejes.</p>
<p>‚Ä¢ V√©rtice y eje de simetr√≠a.</p>
<p>‚Ä¢ Concavidad.</p>
<p>üîê C√≥digo = $|f(0)|$ + n√∫mero de soluciones reales</p>
</div>
<button class="button" onclick="nextScreen(2)">Continuar</button>
</div>

<!-- RETO 2 -->
<div id="screen2" class="screen">
<h2>Reto 2 ‚Äì El Escudo de Ironhide</h2>
<img src="./resources/IMAGEN_RETO2.png" alt="Imagen reto 2">
<iframe width="560" height="315" src="https://www.youtube.com/embed/4FU4Egle4Nk?si=1p6H4RPA90H5b6yp" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
<div class="cyber-box">
<p>Ironhide tiene un problema, es √∫ltimo caballero en pie en la batalla con acceso a apagar el escudo energ√©tico enemigo, el cual responde a una funci√≥n racional. ¬°Ay√∫dalo! Pues interpretar mal una as√≠ntota abrir√≠a una brecha irreversible.</p>
<div class="formula">$$f(x)=\frac{2x+1}{x-3}$$</div>
<p>Representa con precisi√≥n:</p>
<p>‚Ä¢ Dominio.</p>
<p>‚Ä¢ As√≠ntota vertical.</p>
<p>‚Ä¢ As√≠ntota horizontal.</p>
<p>‚Ä¢ Corte con el eje Y.</p>
<p>üîê C√≥digo = $|\text{AV}|$ + numerador de $f(0)$</p>
</div>
<button class="button" onclick="nextScreen(3)">Continuar</button>
</div>

<!-- RETO 3 -->
<div id="screen3" class="screen">
<h2>Reto 3 ‚Äì La Grieta de Shockwave</h2>
<img src="IMAGEN_RETO3.jpg" alt="Imagen reto 3">
<iframe width="560" height="315" src="https://www.youtube.com/embed/31XiNboRw2I?si=5S1qABoVx_dexkng" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe><div class="cyber-box">
<p>Una grieta dimensional descrita por una funci√≥n radical amenaza con expandirse, de crecer demasiado puede llegar a provocar una nueva era de la extinci√≥n. ¬°Ayuda a Shockwave! Solo comprendiendo su dominio real podr√° cerrarse.</p>
<div class="formula">$$f(x)=\sqrt{2x-1}$$</div>
<p>Representa correctamente:</p>
<p>‚Ä¢ Dominio exacto.</p>
<p>‚Ä¢ Punto inicial.</p>
<p>‚Ä¢ Corte con el eje X.</p>
<p>‚Ä¢ Comportamiento creciente.</p>
<p>üîê C√≥digo = extremo inferior del dominio + corte con X</p>
</div>
<button class="button" onclick="nextScreen(4)">Continuar</button>
</div>

<!-- RETO 4 -->
<div id="screen4" class="screen">
<h2>Reto 4 ‚Äì N√∫cleo de Optimus Prime</h2>
<img src="IMAGEN_RETO4.jpg" alt="Imagen reto 4">
<iframe width="560" height="315" src="https://www.youtube.com/embed/UD9qER2sZGc?si=9aaskFOeruEUiyD_" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe><div class="cyber-box">
<p>Optimus ha descubierto que el n√∫cleo energ√©tico que se encuentra oculto en el lado oculto de la Luna depende de un crecimiento exponencial. Comprender su comportamiento asint√≥tico es vital para estabilizarlo.</p>
<div class="formula">$$f(x)=3^x-2$$</div>
<p>Analiza rigurosamente:</p>
<p>‚Ä¢ As√≠ntota horizontal.</p>
<p>‚Ä¢ Corte con el eje Y.</p>
<p>‚Ä¢ Corte con el eje X.</p>
<p>‚Ä¢ Comportamiento cuando $x \to \pm\infty$.</p>
<p>üîê C√≥digo = $|\text{AH}|$ + $|f(0)|$</p>
</div>
<button class="button" onclick="nextScreen(5)">Ir al Candado</button>
</div>

<!-- CANDADO -->
<div id="screen5" class="screen">
<h2>Introduce el C√≥digo Final</h2>
<img src="IMAGEN_CANDADO.jpg" alt="Imagen candado">
<div class="cyber-box">
<p>El candado central integra las cuatro representaciones gr√°ficas. Un solo error en dominio, as√≠ntotas o cortes arruinar√° la misi√≥n.</p>
<p>Revisa cuidadosamente cada gr√°fica antes de introducir el c√≥digo final.</p>
<p>Cybertron depende de vuestra precisi√≥n matem√°tica.</p>
</div>
<input type="text" id="codeInput" placeholder="____">
<button class="button" onclick="checkCode()">Desbloquear</button>
</div>

<!-- √âXITO -->
<div id="screen6" class="screen">
<h2 class="success">¬°Cybertron Salvado!</h2>
<img src="IMAGEN_EXITO.jpg" alt="Imagen √©xito">
<iframe width="560" height="315" src="https://www.youtube.com/embed/pU_n6xi-Vrc?si=rWeXLQkBnCoAmIbc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
<div class="cyber-box">
<p>Las representaciones fueron exactas. Dominio, cortes y as√≠ntotas perfectamente identificados.</p>
<p>Optimus Prime reconoce vuestra precisi√≥n matem√°tica. El n√∫cleo energ√©tico vuelve a brillar.</p>
</div>
</div>

<!-- FRACASO -->
<div id="screen7" class="screen">
<h2 class="failure">Megatron Ha Ganado...</h2>
<img src="IMAGEN_FRACASO.jpg" alt="Imagen fracaso">
<iframe width="560" height="315" src="https://www.youtube.com/embed/Db5SvKPJc-w?si=YZwR9HIo0WNIFT1X" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe><div class="cyber-box">
<p>No has logrado acceder al n√∫cleo energ√©tico y Megatr√≥n ha logrado mandar usando una funci√≥n las coordenadas de la Tierra a Unicron para que la devore.</p>
<p>Alguna representaci√≥n no fue completamente correcta.</p>
<p>Revisad dominio, as√≠ntotas y cortes con los ejes. Incluso el menor error gr√°fico puede alterar el c√≥digo final.</p>
<p>Cybertron a√∫n puede salvarse. Volved a intentarlo.</p>
</div>
<button class="button" onclick="restartMission()">Reintentar</button>
</div>

<script>
let totalTime = 0;
let timerInterval = null;

// Sonido de bot√≥n
function playClickSound(){
    const ctx = new (window.AudioContext || window.webkitAudioContext)();
    const osc = ctx.createOscillator();
    const gain = ctx.createGain();
    osc.type = "sine";
    osc.frequency.setValueAtTime(600, ctx.currentTime);
    gain.gain.setValueAtTime(0.1, ctx.currentTime);
    osc.connect(gain);
    gain.connect(ctx.destination);
    osc.start();
    osc.stop(ctx.currentTime + 0.1);
}

// A√±adir sonido a todos los botones
setTimeout(()=>{
    document.querySelectorAll('.button').forEach(btn=>{
        btn.addEventListener('click', playClickSound);
    });
},500);

function selectMode(minutes){
    totalTime = minutes * 60;
    document.getElementById('timer').style.display = 'block';
    nextScreen(1);
    startTimer();
}

function nextScreen(n){
    document.querySelectorAll('.screen').forEach(screen => screen.classList.remove('active'));
    const target = document.getElementById('screen' + n);
    if(target){ target.classList.add('active'); window.scrollTo(0,0); }
}

function checkCode(){
    const code = document.getElementById('codeInput').value.trim();
    clearInterval(timerInterval);
    if(code === "7413"){
        nextScreen(6);
    } else {
        nextScreen(7);
    }
}

function startTimer(){
    clearInterval(timerInterval);
    timerInterval = setInterval(function(){
        totalTime--;
        const minutes = Math.floor(totalTime / 60);
        const seconds = totalTime % 60;
        document.getElementById('timer').innerHTML =
            "Tiempo restante: " +
            (minutes < 10 ? "0" : "") + minutes + ":" +
            (seconds < 10 ? "0" : "") + seconds;
        if(totalTime <= 0){ clearInterval(timerInterval); nextScreen(7); }
    }, 1000);
}

function restartMission(){
    clearInterval(timerInterval);
    timerInterval = null;
    totalTime = 0;
    const timer = document.getElementById('timer');
    timer.style.display = 'none';
    timer.innerHTML = '';
    document.getElementById('codeInput').value = '';
    nextScreen(0);
}
</script>

</body>
</html>
